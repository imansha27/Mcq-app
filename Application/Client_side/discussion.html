<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles/discussion.css">
    <link rel="stylesheet" href="styles/navbar.css">
    <title>Quiz</title>
</head>
<body>
    <div class="d-container">
        <div class="navbar-container" id="navbarContainer"></div>
        <div class="container">
            <div class="discussion-details">
              
            </div>
            <div class="chat-container">
                <div class="chat" id="chatMessages">
                    <!-- Chat messages will be dynamically added here -->
                </div>
                <div class="comment-input">
                    <input type="text" id="commentInput" placeholder="Write a comment...">
                    <button id="sendButton">Send</button>
                </div>
            </div>
        </div>
    </div>

    <script>


// Get discussion details from local storage
const discussionTitle = localStorage.getItem("discussion_title");
const discussionContent = localStorage.getItem("discussion_content");
const discussionImage = localStorage.getItem("discussion_image");
const discussionAuthor = localStorage.getItem("discussion_author");
const discussionCreatedAt = localStorage.getItem("discussion_created_at");




        // Fetch and inject navbar contents
        fetch("./components/navbar_after_login.html")
            .then((response) => response.text())
            .then((html) => {
                document.getElementById("navbarContainer").innerHTML = html;
            })
            .catch((error) =>
                console.error("Error fetching navbar content:", error)
            );

        // Function to handle sending a comment
        document.getElementById("sendButton").addEventListener("click", function () {
            // Get the input value
            var commentText = document.getElementById("commentInput").value;

            // If the input is not empty
            if (commentText.trim() !== "") {
                // Create a new message element
                var messageElement = document.createElement("div");
                messageElement.classList.add("message"); // Add the message class

                // Create a new paragraph element for the message content
                var messageContent = document.createElement("p");
                messageContent.textContent = commentText;

                // Append the message content to the message element
                messageElement.appendChild(messageContent);

                // Append the message to the chat area
                document.getElementById("chatMessages").appendChild(messageElement);

                // Clear the input field
                document.getElementById("commentInput").value = "";
            }
        });
    </script>

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script>
        $(document).ready(function () {
            $(".btn").click(function () {
                $(".btn").removeClass("clicked"); // Remove the class from all buttons
                $(this).addClass("clicked"); // Add the class to the clicked button
            });
        });
    </script>
</body>
</html>
